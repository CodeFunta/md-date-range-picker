<div class="md-date-range-picker md-whiteframe-1dp">
    <md-toolbar class="md-primary" layout="row" layout-align="start center">
        <md-button aria-label="Date Range Picker" class="md-icon-button" aria-hidden="true" ng-disabled="true">
            <md-icon md-svg-icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik05IDExSDd2Mmgydi0yem00IDBoLTJ2Mmgydi0yem00IDBoLTJ2Mmgydi0yem0yLTdoLTFWMmgtMnYySDhWMkg2djJINWMtMS4xMSAwLTEuOTkuOS0xLjk5IDJMMyAyMGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0wIDE2SDVWOWgxNHYxMXoiLz4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KPC9zdmc+"></md-icon>
        </md-button>
        <span class="md-toolbar-tools">{{ctrl.selectedDateText()}}</span>
    </md-toolbar>
    <div layout="column">
        <div layout="row" layout-margin>
            <div class="md-date-range-picker__calendar-wrapper">
                <div class="md-date-range-picker__month-year" layout="row" layout-align="center center">
                    <div flex layout="column" layout-align="center center">
                        <md-button aria-label="Previous Month" class="md-icon-button" ng-click="ctrl.handleClickPrevMonth($event)">
                            <md-icon md-svg-src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4="></md-icon>
                        </md-button>
                    </div>
                    <md-select md-on-close="ctrl.updateActiveDate()" ng-model="ctrl.activeMonth" placeholder="Month" class="md-no-underline">
                        <md-option ng-value="month.id" ng-repeat="month in ctrl.months" ng-bind="month.name"></md-option>
                    </md-select>
                    <md-select md-on-close="ctrl.updateActiveDate()" ng-model="ctrl.activeYear" placeholder="Year" class="md-no-underline">
                        <md-option ng-value="year.id" ng-repeat="year in ctrl.years" ng-bind="year.name"></md-option>
                    </md-select>
                    <div flex layout="column" layout-align="center center" class="hide-gt-sm">
                        <md-button aria-label="Next Month" class="md-icon-button" ng-click="ctrl.handleClickNextMonth($event)">
                            <md-icon style="transform: rotate(-180deg)" md-svg-src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4="></md-icon>
                        </md-button>
                    </div>
                    <div flex layout="column" layout-align="center center" class="hide show-gt-sm">
                        <md-button aria-label="Next Month" ng-disabled="true" aria-hidden="true" class="md-icon-button">
                            <md-icon></md-icon>
                        </md-button>
                    </div>
                </div>
                <div class="md-date-range-picker__week" style="font-size: 0;">
                    <span class="md-date-range-picker__calendar__grid" ng-repeat="day in ctrl.days">{{day.name}}</span>
                </div>
                <div class="md-date-range-picker__calendar">
                    <span ng-repeat="date in ctrl.dates" class="md-date-range-picker__calendar__grid" ng-class="{'md-date-range-picker__calendar__selected':ctrl.inSelectedDateRange(date), 'md-date-range-picker__calendar__start':ctrl.isSelectedStartDate(date), 'md-date-range-picker__calendar__end':ctrl.isSelectedEndDate(date), 'md-date-range-picker__calendar__not-in-active-month': !ctrl.inCurrentMonth(date), 'md-date-range-picker__calendar__today' : ctrl.isToday(date) }"
                        ng-click="ctrl.handleClickDate($event, date)">
                        <span class="md-date-range-picker__calendar__selection" ng-bind={{::date.getDate()}}></span>
                    </span>
                </div>
            </div>
            <div class="md-date-range-picker__calendar-wrapper hide show-gt-sm">
                <div class="md-date-range-picker__month-year" layout="row" layout-align="center center">
                    <div flex layout="column" layout-align="center center" style="visibility: hidden">
                        <md-button aria-label="Previous Month" class="md-icon-button" ng-click="ctrl.handleClickPrevMonth($event)">
                            <md-icon md-svg-src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4="></md-icon>
                        </md-button>
                    </div>
                    <md-select md-on-close="ctrl.updateActiveDate(true)" ng-model="ctrl.activeMonth2" placeholder="Month" class="md-no-underline">
                        <md-option ng-value="month.id" ng-repeat="month in ctrl.months" ng-bind="month.name"></md-option>
                    </md-select>
                    <md-select md-on-close="ctrl.updateActiveDate(true)" ng-model="ctrl.activeYear2" placeholder="Year" class="md-no-underline">
                        <md-option ng-value="year.id" ng-repeat="year in ctrl.years" ng-bind="year.name"></md-option>
                    </md-select>
                    <div flex layout="column" layout-align="center center">
                        <md-button aria-label="next-month" class="md-icon-button" ng-click="ctrl.handleClickNextMonth($event)">
                            <md-icon style="transform: rotate(-180deg)" md-svg-src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4="></md-icon>
                        </md-button>
                    </div>
                </div>
                <div class="md-date-range-picker__week" style="font-size: 0;">
                    <span class="md-date-range-picker__calendar__grid" ng-repeat="day in ctrl.days">{{day.name}}</span>
                </div>
                <div class="md-date-range-picker__calendar">
                    <span ng-repeat="date in ctrl.dates2" class="md-date-range-picker__calendar__grid" ng-class="{'md-date-range-picker__calendar__selected':ctrl.inSelectedDateRange(date), 'md-date-range-picker__calendar__start':ctrl.isSelectedStartDate(date), 'md-date-range-picker__calendar__end':ctrl.isSelectedEndDate(date), 'md-date-range-picker__calendar__not-in-active-month': !ctrl.inCurrentMonth(date, true), 'md-date-range-picker__calendar__today' : ctrl.isToday(date) }"
                        ng-click="ctrl.handleClickDate($event, date)">
                        <span class="md-date-range-picker__calendar__selection" ng-bind={{::date.getDate()}}></span>
                    </span>
                </div>
            </div>
        </div>
        <div class="md-date-range-picker__templates" ng-if="ctrl.showTemplate">
            <div class="hide show-gt-sm" layout="row">
                <div flex layout="column">
                    <md-button aria-label="Today" ng-class="ctrl.selectedTemplate === 'TD' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectToday()">Today</md-button>
                    <md-button aria-label="Yesterday" ng-class="ctrl.selectedTemplate === 'YD' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectYesterday()">Yesterday</md-button>
                </div>
                <div flex layout="column">
                    <md-button aria-label="This Week" ng-class="ctrl.selectedTemplate === 'TW' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectThisWeek()">This Week</md-button>
                    <md-button aria-label="Last Week" ng-class="ctrl.selectedTemplate === 'LW' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectLastWeek()">Last Week</md-button>
                </div>
                <div flex layout="column">
                    <md-button aria-label="This Month" ng-class="ctrl.selectedTemplate === 'TM' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectThisMonth()">This Month</md-button>
                    <md-button aria-label="Last Month" ng-class="ctrl.selectedTemplate === 'LM' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectLastMonth()">Last Month</md-button>
                </div>
                <div flex layout="column">
                    <md-button aria-label="This Year" ng-class="ctrl.selectedTemplate === 'TY' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectThisYear()">This Year</md-button>
                    <md-button aria-label="Last Year" ng-class="ctrl.selectedTemplate === 'LY' ? 'md-primary md-raised' : ''" ng-click="ctrl.handleClickSelectLastYear()">Last Year</md-button>
                </div>
            </div>
            <div class="hide-gt-sm" layout="column" layout-padding>
                <md-input-container>
                    <label>Date Range Template</label>
                    <md-select class="md-block" placeholder="Custom Date Range" ng-model="ctrl.selectedTemplate">
                        <md-option value=""></md-option>
                        <md-option aria-label="Today" value="TD" ng-click="ctrl.handleClickSelectToday()">Today</md-option>
                        <md-option aria-label="Yesterday" value="YD" ng-click="ctrl.handleClickSelectYesterday()">Yesterday</md-option>
                        <md-option aria-label="This Week" value="TW" ng-click="ctrl.handleClickSelectThisWeek()">This Week</md-option>
                        <md-option aria-label="Last Week" value="LW" ng-click="ctrl.handleClickSelectLastWeek()">Last Week</md-option>
                        <md-option aria-label="This Month" value="TM" ng-click="ctrl.handleClickSelectThisMonth()">This Month</md-option>
                        <md-option aria-label="Last Month" value="LM" ng-click="ctrl.handleClickSelectLastMonth()">Last Month</md-option>
                        <md-option aria-label="This Year" value="TY" ng-click="ctrl.handleClickSelectThisYear()">This Year</md-option>
                        <md-option aria-label="Last Year" value="LY" ng-click="ctrl.handleClickSelectLastYear()">Last Year</md-option>
                    </md-select>
                </md-input-container>
            </div>
        </div>
    </div>
</div>